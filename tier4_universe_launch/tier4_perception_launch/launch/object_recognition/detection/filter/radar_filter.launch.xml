<?xml version="1.0"?>
<launch>
  <!-- Parameters -->
  <arg name="object_sorter_param_path" default="$(var object_recognition_detection_object_sorter_radar_param_path)"/>
  <arg name="radar_lanelet_filtering_range_param_path" default="$(find-pkg-share autoware_detected_object_validation)/config/object_lanelet_filter.param.yaml"/>

  <!-- External interfaces -->
  <arg name="input/radar"/>
  <arg name="output/objects"/>

  <group>
    <include file="$(find-pkg-share autoware_object_sorter)/launch/detected_object_sorter.launch.xml">
      <arg name="input/objects" value="$(var input/radar)"/>
      <arg name="output/objects" value="sorted_objects"/>
      <arg name="param_path" value="$(var object_sorter_param_path)"/>
    </include>
  </group>

  <group>
    <include file="$(find-pkg-share autoware_detected_object_validation)/launch/object_lanelet_filter.launch.xml">
      <arg name="input/object" value="sorted_objects"/>
      <arg name="output/object" value="$(var output/objects)"/>
      <arg name="filtering_range_param" value="$(var radar_lanelet_filtering_range_param_path)"/>
    </include>
  </group>
</launch>
