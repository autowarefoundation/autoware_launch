<?xml version="1.0" encoding="UTF-8"?>
<launch>
  <!-- Launch RViz2 for visualization -->
  <node pkg="rviz2" exec="rviz2" name="rviz2" output="screen">
    <param name="use_sim_time" value="true"/>
  </node>

  <!-- Camera processing using image_transport republisher -->
  <node pkg="image_transport" exec="republish" name="image_republisher" 
        args="compressed raw" output="screen">
    <remap from="in/compressed" to="/sensor/camera/rsp_l/image_rect_color/compressed"/>
    <remap from="out" to="/perception/camera/processed_image"/>
  </node>

  <!-- Relay CameraInfo from /sensor/camera/rsp_l/camera_info to /perception/camera/camera_info -->
  <node pkg="topic_tools" exec="relay" name="camera_info_relay" output="screen">
    <param name="input_topic" value="/sensor/camera/rsp_l/camera_info"/>
    <param name="output_topic" value="/perception/camera/camera_info"/>
  </node>
</launch>
