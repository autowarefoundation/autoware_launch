<?xml version="1.0"?>
<launch>
  <arg name="vehicle_param_file"/>
  <arg name="vehicle_id"/>
  <arg name="enable_obstacle_collision_checker"/>
  <arg name="check_external_emergency_heartbeat"/>
  <arg name="lateral_controller_mode"/>
  <arg name="longitudinal_controller_mode"/>

  <include file="$(find-pkg-share tier4_control_launch)/launch/control.launch.py">
    <arg name="vehicle_param_file" value="$(var vehicle_param_file)"/>

    <!-- option -->
    <arg name="vehicle_param_file" value="$(var vehicle_param_file)"/>
    <arg name="vehicle_id" value="$(var vehicle_id)"/>
    <arg name="enable_obstacle_collision_checker" value="$(var enable_obstacle_collision_checker)"/>
    <arg name="check_external_emergency_heartbeat" value="$(var check_external_emergency_heartbeat)"/>
    <arg name="lat_controller_param_path" value="$(find-pkg-share autoware_launch)/config/control/trajectory_follower/$(var lateral_controller_mode).param.yaml"/>
    <arg name="lateral_controller_mode" value="$(var lateral_controller_mode)"/>
    <arg name="longitudinal_controller_mode" value="$(var longitudinal_controller_mode)"/>

    <!-- common param path -->
    <arg name="nearest_search_param_path" value="$(find-pkg-share autoware_launch)/config/control/common/nearest_search.param.yaml"/>

    <!-- package param path -->
    <arg name="lat_controller_param_path" value="$(var lat_controller_param_path)"/>
    <arg name="lon_controller_param_path" value="$(find-pkg-share autoware_launch)/config/control/pid_longitudinal_controller/pid_longitudinal_controller.param.yaml"/>
    <arg name="vehicle_cmd_gate_param_path" value="$(find-pkg-share autoware_launch)/config/control/vehicle_cmd_gate/vehicle_cmd_gate.param.yaml"/>
    <arg name="lane_departure_checker_param_path" value="$(find-pkg-share autoware_launch)/config/control/lane_departure_checker/lane_departure_checker.param.yaml"/>
    <arg name="operation_mode_transition_manager_param_path" value="$(find-pkg-share autoware_launch)/config/control/operation_mode_transition_manager/operation_mode_transition_manager.param.yaml"/>
    <arg name="shift_decider_param_path" value="$(find-pkg-share autoware_launch)/config/control/shift_decider/shift_decider.param.yaml"/>
    <arg name="obstacle_collision_checker_param_path" value="$(find-pkg-share autoware_launch)/config/control/obstacle_collision_checker/obstacle_collision_checker.param.yaml"/>
  </include>
</launch>
