autoware_system_design_format: v0.1.0

name: Ros2RobotStatePublisher.node

launch: 
  package: robot_state_publisher
  plugin: robot_state_publisher::RobotStatePublisher
  executable: robot_state_publisher
  node_output: both

# interfaces
inputs:
  - name: robot_description
    message_type: std_msgs/msg/String
  - name: joint_states
    message_type: sensor_msgs/msg/JointState
outputs: 
  - name: robot_description
    message_type: std_msgs/msg/String
  - name: tf
    message_type: tf2_msgs/msg/TFMessage
    global: /tf
  - name: tf_static
    message_type: tf2_msgs/msg/TFMessage
    global: /tf_static

# parameters
parameter_files: []
parameters:
  - name: use_robot_description_topic
    type: bool
    default: false
  - name: robot_description
    type: string
    default: ''
  - name: publish_frequency
    type: double
    default: 20.0
  - name: ignore_timestamp
    type: bool
    default: false
  - name: frame_prefix
    type: string
    default: ''

# processes
processes:
  - name: publish_tf
    trigger_conditions:
      - periodic: 20 # Hz
    outcomes:
      - to_output: tf
  - name: publish_tf_static
    trigger_conditions:
      - once:
    outcomes:
      - to_output: tf_static
