autoware_system_design_format: v0.1.0

name: LidarClustering.module

instances:
  - name: euclidean_cluster
    entity: VoxelGridBasedEuclideanCluster.node
  - name: shape_estimation
    entity: ShapeEstimation.node
  - name: detected_object_feature_remover
    entity: DetectedObjectFeatureRemover.node

external_interfaces:
  input:
    - name: pointcloud
  output:
    - name: detected_objects
    - name: cluster_objects

connections:
  - from: input.pointcloud
    to: euclidean_cluster.input.input_pointcloud


  - from: euclidean_cluster.output.output_clusters
    to: shape_estimation.input.objects
  - from: shape_estimation.output.objects
    to: output.cluster_objects

  - from: shape_estimation.output.objects
    to: detected_object_feature_remover.input.input
  - from: detected_object_feature_remover.output.output
    to: output.detected_objects
